"use strict";(self.webpackChunkpayload_template_ts_blank=self.webpackChunkpayload_template_ts_blank||[]).push([[491],{86491:function(e,a,t){t.r(a),t.d(a,{default:function(){return O}});var l=t(67294),n=t(16550),i=t(26793),s=t(9980),r=t(28630),c=t(75091),o=t(47489),d=t(40684),u=t(73727),m=t(49546),v=t(28584),p=t(26644),E=t(4983),_=t(46268),$=t(5590),f=t(55532),g=t(24427),h=t(38398),b=t(50854),Z=t(37276),N=t(73588),k=t(40829),w=t(9684),y=t(92962),A=t(10935);const P=()=>{const{theme:e,setTheme:a,autoMode:t}=(0,A.Fg)(),{t:n}=(0,i.$)("general"),s=(0,l.useCallback)((e=>{a(e)}),[a]);return l.createElement(y.Z,{name:"theme",label:n("adminTheme"),value:t?"auto":e,onChange:s,options:[{label:n("automatic"),value:"auto"},{label:n("light"),value:"light"},{label:n("dark"),value:"dark"}]})};var S=t(69850),L=t(80763),C=t(953);t(98345);const T="account";var U=e=>{var a,t,n,r;const{collection:c,data:o,permissions:d,hasSavePermission:y,apiURL:A,initialState:U,isLoading:R,action:F}=e,{slug:I,fields:D,admin:{useAsTitle:O,preview:K},timestamps:j,auth:M}=c,{admin:{dateFormat:x},routes:{admin:B}}=(0,s.Z)(),{t:G,i18n:H}=(0,i.$)("authentication"),q=Object.entries(H.options.resources).map((([e,a])=>({label:a.general.thisLanguage,value:e}))),z=[T].filter(Boolean).join(" ");return l.createElement("div",{className:z},R&&l.createElement(k.Z,null),!R&&l.createElement(w.R.Provider,{value:"update"},l.createElement(p.Z,{className:`${T}__form`,method:"patch",action:F,initialState:U,disabled:!y},l.createElement("div",{className:`${T}__main`},l.createElement(Z.Z,{title:G("account"),description:G("accountOfCurrentUser"),keywords:G("account")}),l.createElement(v.Z,null),!((null===(a=c.versions)||void 0===a?void 0:a.drafts)&&(null===(n=null===(t=c.versions)||void 0===t?void 0:t.drafts)||void 0===n?void 0:n.autosave))&&l.createElement(b.Z,null),l.createElement("div",{className:`${T}__edit`},l.createElement(S.T,{className:`${T}__header`},l.createElement("h1",null,l.createElement(h.Z,{data:o,useAsTitle:O,fallback:`[${G("general:untitled")}]`})),l.createElement(N.Z,{useAPIKey:M.useAPIKey,collection:c,email:null==o?void 0:o.email,operation:"update"}),l.createElement($.Z,{permissions:d.fields,readOnly:!y,filter:e=>{var a;return"sidebar"!==(null===(a=null==e?void 0:e.admin)||void 0===a?void 0:a.position)},fieldTypes:g.Z,fieldSchema:D})),l.createElement(S.T,{className:`${T}__payload-settings`},l.createElement("h3",null,G("general:payloadSettings")),l.createElement("div",{className:`${T}__language`},l.createElement(C.Z,{label:G("general:language")}),l.createElement(L.Z,{value:q.find((e=>e.value===H.language)),options:q,onChange:({value:e})=>H.changeLanguage(e)})),l.createElement(P,null)))),l.createElement("div",{className:`${T}__sidebar-wrap`},l.createElement("div",{className:`${T}__sidebar`},l.createElement("div",{className:`${T}__sidebar-sticky-wrap`},l.createElement("ul",{className:`${T}__collection-actions`},(null===(r=null==d?void 0:d.create)||void 0===r?void 0:r.permission)&&l.createElement(l.Fragment,null,l.createElement("li",null,l.createElement(u.Link,{to:`${B}/collections/${I}/create`},G("general:createNew"))))),l.createElement("div",{className:`${T}__document-actions${K?` ${T}__document-actions--with-preview`:""}`},l.createElement(E.Z,{generatePreviewURL:K,data:o}),y&&l.createElement(_.Z,{buttonId:"action-save"},G("general:save"))),l.createElement("div",{className:`${T}__sidebar-fields`},l.createElement($.Z,{permissions:d.fields,readOnly:!y,filter:e=>{var a;return"sidebar"===(null===(a=null==e?void 0:e.admin)||void 0===a?void 0:a.position)},fieldTypes:g.Z,fieldSchema:D})),l.createElement("ul",{className:`${T}__meta`},l.createElement("li",{className:`${T}__api-url`},l.createElement("span",{className:`${T}__label`},"API URL"," ",l.createElement(f.Z,{value:A})),l.createElement("a",{href:A,target:"_blank",rel:"noopener noreferrer"},A)),l.createElement("li",null,l.createElement("div",{className:`${T}__label`},"ID"),l.createElement("div",null,null==o?void 0:o.id)),j&&l.createElement(l.Fragment,null,o.updatedAt&&l.createElement("li",null,l.createElement("div",{className:`${T}__label`},G("general:lastModified")),l.createElement("div",null,(0,m.default)(new Date(o.updatedAt),x))),o.createdAt&&l.createElement("li",null,l.createElement("div",{className:`${T}__label`},G("general:created")),l.createElement("div",null,(0,m.default)(new Date(o.createdAt),x)))))))))))},R=t(19826),F=t(2143),I=t(45074),D=t(91455);var O=()=>{var e,a;const{state:t}=(0,n.TH)(),u=(0,d.bU)(),{setStepNav:m}=(0,c.FP)(),{user:v,permissions:p}=(0,r.a)(),[E,_]=(0,l.useState)(),{id:$,preferencesKey:f}=(0,I.x5)(),{getPreference:g}=(0,D.G)(),{serverURL:h,routes:{api:b},collections:Z,admin:{user:N,components:{views:{Account:k}={Account:void 0}}={}}={user:"users"}}=(0,s.Z)(),{t:w}=(0,i.$)("authentication"),y=Z.find((e=>e.slug===N)),{fields:A}=y,P=null===(e=null==p?void 0:p.collections)||void 0===e?void 0:e[N],[{data:S}]=(0,o.Z)(`${h}${b}/${null==y?void 0:y.slug}/${null==v?void 0:v.id}`,{initialParams:{"fallback-locale":"null",depth:0}}),L=null===(a=null==P?void 0:P.update)||void 0===a?void 0:a.permission,C=(null==t?void 0:t.data)||S,T=`${h}${b}/${v.collection}/${null==S?void 0:S.id}`,O=`${h}${b}/${v.collection}/${null==S?void 0:S.id}?locale=${u}&depth=0`;return(0,l.useEffect)((()=>{const e=[{label:w("account")}];m(e)}),[m,w]),(0,l.useEffect)((()=>{(async()=>{const e=await(0,R.Z)({fieldSchema:A,data:C,operation:"update",id:$,user:v,locale:u,t:w});await g(f),_(e)})()}),[C,A,$,v,u,f,g,w]),l.createElement(F.Z,{DefaultComponent:U,CustomComponent:k,componentProps:{action:O,data:S,collection:y,permissions:P,hasSavePermission:L,initialState:E,apiURL:T,isLoading:!E}})}}}]);